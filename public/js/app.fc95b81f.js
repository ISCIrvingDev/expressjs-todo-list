(function(t){function e(e){for(var a,i,r=e[0],l=e[1],c=e[2],u=0,h=[];u<r.length;u++)i=r[u],o[i]&&h.push(o[i][0]),o[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(h.length)h.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,r=1;r<s.length;r++){var l=s[r];0!==o[l]&&(a=!1)}a&&(n.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},o={app:0},n=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},1099:function(t,e,s){},"17ee":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",{attrs:{id:"app"}},[s("TodoList")],1)},n=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("section",[s("form",{staticClass:"my-4",on:{submit:function(e){return e.preventDefault(),t.addTask(e)}}},[t._m(0)])]),s("section",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",id:"searchIcon",maxlength:"25",placeholder:"Search..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),s("section",{staticClass:"table-responsive-sm"},[s("table",{staticClass:"table table-hover"},[t._m(1),s("tbody",t._l(t.searchFilter,function(e){return s("tr",{key:e.id},[s("th",{attrs:{scope:"row"}},[t._v(t._s(t.rows.indexOf(e)+1)+"\n                     ")]),s("th",{attrs:{scope:"row"}},[s("a",{staticClass:"far fa-window-restore",attrs:{href:"#","data-toggle":"modal","data-target":"#descriptionModal"},on:{click:function(s){return t.setRow(e)}}})]),s("td",[s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.done,expression:"row.done"}],staticClass:"form-check-input position-static",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.done)?t._i(e.done,null)>-1:e.done},on:{change:[function(s){var a=e.done,o=s.target,n=!!o.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);o.checked?r<0&&t.$set(e,"done",a.concat([i])):r>-1&&t.$set(e,"done",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(e,"done",n)},function(s){t.setRow(e),t.requestToServer="PUT",t.updateDone()}]}})])]),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.task,expression:"row.task"}],staticClass:"rounded bg-text-silver bg-text-silver border-0",class:{taskDone:e.done},attrs:{id:"updateTask",type:"text",maxlength:"25",pattern:"[A-Za-z]{2}[ _A-Za-z0-9]{1,22}",title:"It has to start with two letters, have at least 5 characters and end with a letter or a number",required:""},domProps:{value:e.task},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.updateTask(e)},input:function(s){s.target.composing||t.$set(e,"task",s.target.value)}}})]),s("td",[s("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button","data-toggle":"modal","data-target":"#confirmModal"},on:{click:function(s){return t.setRow(e)}}},[t._v("X")])])])}),0)])]),s("Alert",{attrs:{show:t.show,msn:t.msn,type:t.type},on:{fadeOut:function(e){t.show=!t.show}}}),s("ConfirmModal",{attrs:{item:"task"},on:{done:t.deleteTask}}),s("DescriptionModal",{ref:"descriptionTask",attrs:{title:t.title,description:t.description},on:{update:t.updateTaskDescription}})],1)},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-12 col-sm-10"},[s("input",{staticClass:"form-control",attrs:{type:"text",id:"task",minlength:"5",maxlength:"25",pattern:"[A-Za-z]{2}[ _A-Za-z0-9]{1,22}",title:"It has to start with two letters, have at least 5 characters and end with a letter or a number",placeholder:"Task",required:""}}),s("textarea",{staticClass:"form-control mt-1 mt-sm-3",attrs:{id:"description",rows:"3",placeholder:"Description"}})]),s("div",{staticClass:"col-12 col-sm-2 mt-2 mt-sm-0"},[s("button",{staticClass:"btn btn-outline-dark",attrs:{type:"submit"}},[t._v("Add")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{staticClass:"col-1",attrs:{scope:"col"}},[t._v("ID")]),s("th",{staticClass:"col-2",attrs:{scope:"col"}},[t._v("Details")]),s("th",{staticClass:"col-2",attrs:{scope:"col"}},[t._v("Done")]),s("th",{staticClass:"col-5",attrs:{scope:"col"}},[t._v("Task")]),s("th",{staticClass:"col-2",attrs:{scope:"col"}},[t._v("Delete")])])])}],l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal fade",attrs:{id:"confirmModal",tabindex:"-1",role:"dialog","aria-labelledby":"confirmModalTitle","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(0),s("div",{staticClass:"modal-body"},[t._v("\n                Do you really want to delete this "+t._s(t.item)+"?\n            ")]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-outline-success",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.done}},[t._v("Yes")]),s("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("No")])])])])])},c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header bg-light"},[s("h5",{staticClass:"modal-title",attrs:{id:"confirmModalTitle"}},[t._v("Confirm")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],d={name:"ConfirmModal",props:{item:String},methods:{done(){this.$emit("done")}}},u=d,h=(s("d5f8"),s("2877")),p=Object(h["a"])(u,l,c,!1,null,null,null),m=p.exports,f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide-fade"}},[t.show?s("div",{class:t.alertType,attrs:{id:"alert",role:"alert"}},[t._v("\n        "+t._s(t.msn)+"\n    ")]):t._e()])},v=[],w={name:"Alert",props:{msn:{type:String,default:"Invlid format"},show:{type:Boolean,default:!1},type:{type:String,default:"success"},time:{type:Number,default:6e3}},computed:{alertType:function(){return"success"==this.type?"alert alert-success text-center":"alert alert-danger text-center"}},watch:{show:function(t,e){t&&setTimeout(()=>{this.$emit("fadeOut")},this.time)}}},b=w,y=(s("dec5"),Object(h["a"])(b,f,v,!1,null,null,null)),g=y.exports,_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal fade",attrs:{id:"descriptionModal",tabindex:"-1",role:"dialog","aria-labelledby":"descriptionModalTitle","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"descriptionModalTitle"}},[t._v(t._s(t.title))]),t._m(0)]),s("div",{staticClass:"modal-body"},[s("textarea",{staticClass:"form-control mt-1 mt-sm-3 border-0",attrs:{id:"newDescription",rows:"3",placeholder:"Description"},domProps:{value:t.description}})]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.update}},[t._v("Save changes")])])])])])},T=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],C={name:"DescriptionModal",props:{title:{type:String,default:"Description"},description:{type:String,default:""}},methods:{update(){this.$emit("update",document.querySelector("#newDescription").value)}}},k=C,x=(s("f56b"),Object(h["a"])(k,_,T,!1,null,null,null)),S=x.exports,O={name:"TodoList",components:{ConfirmModal:m,Alert:g,DescriptionModal:S},data(){return{rows:[],requestToServer:"",selectedRow:null,show:!1,msn:"",type:"",search:""}},created(){fetch("/Task",{method:"GET",headers:{"Content-Type":"application/json"}}).then(t=>t.json()).then(t=>{this.rows=t,this.requestToServer="GET"}).catch(t=>console.log(t))},watch:{rows:function(t,e){"POST"===this.requestToServer?fetch("/Task",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t[t.length-1])}).then(t=>t.json()).then(e=>{t[t.length-1]._id=e._id,this.msn="Your data has been created correctly",this.type="success",this.show||(this.show=!this.show)}).catch(t=>console.log(t)):"DELETE"===this.requestToServer?fetch("/Task",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:this.selectedRow._id})}).then(t=>t.json()).then(t=>{this.msn=t,this.type="success",this.show||(this.show=!this.show)}).catch(t=>console.log(t)):"PUT"===this.requestToServer?console.log("Llego aqui: ",this.selectedRow.done):console.log("Datos cargados correctamente")}},computed:{title:function(){return this.selectedRow?this.selectedRow.task:""},description:{get(){return this.selectedRow?this.selectedRow.description:""},set(t){return t}},searchFilter:function(){return this.rows.filter(t=>{return t.task.toLowerCase().match(this.search.toLowerCase())})}},methods:{addTask(t){let e=t.target[0],s=t.target[1];e.value&&(this.requestToServer="POST",this.rows.push({done:!1,task:e.value,description:s.value}),e.value="",s.value="")},updateTask(t){let e=document.querySelector("#updateTask");e.checkValidity()?fetch("/Task",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:t._id,task:t.task})}).then(t=>t.json()).then(t=>{this.msn=t,this.type="success",this.show||(this.show=!this.show)}).catch(t=>console.log(t)):(this.msn=e.validationMessage,this.type="danger",this.show?this.show=this.show:this.show=!this.show)},setRow(t){this.selectedRow=t,this.$refs.descriptionTask.$forceUpdate()},deleteTask(){this.requestToServer="DELETE",this.rows.splice(this.rows.indexOf(this.selectedRow),1)},updateTaskDescription(t){fetch("/Task",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:this.selectedRow._id,description:t})}).then(t=>t.json()).then(e=>{this.rows[this.rows.indexOf(this.selectedRow)].description=t,this.msn=e,this.type="success",this.show||(this.show=!this.show)}).catch(t=>console.log(t))},updateDone(){fetch("/Task",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:this.selectedRow._id,done:this.selectedRow.done})}).then(t=>t.json()).then(t=>{this.msn=t,this.type="success",this.show||(this.show=!this.show)}).catch(t=>console.log(t))}}},j=O,D=(s("8b51"),Object(h["a"])(j,i,r,!1,null,"3503c2ff",null)),E=D.exports,M={name:"app",components:{TodoList:E}},$=M,P=Object(h["a"])($,o,n,!1,null,null,null),R=P.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(R)}}).$mount("#app")},"8b51":function(t,e,s){"use strict";var a=s("ef97"),o=s.n(a);o.a},d5f8:function(t,e,s){"use strict";var a=s("1099"),o=s.n(a);o.a},dec5:function(t,e,s){"use strict";var a=s("17ee"),o=s.n(a);o.a},e008:function(t,e,s){},ef97:function(t,e,s){},f56b:function(t,e,s){"use strict";var a=s("e008"),o=s.n(a);o.a}});
//# sourceMappingURL=app.fc95b81f.js.map